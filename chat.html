<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Israel Airways Chat</title>
  <style>
    html, body { height:100%; margin:0; background:#fff; }
    /* Prevent scrollbars around the widget */
    body { overflow:hidden; }

    /*
      Best-effort CSS to remove common header / home sections.
      Cognigy Webchat DOM varies; the MutationObserver below is the reliable layer.
    */
    [class*="header" i],
    [class*="Header" i]{
      /* don't blanket-hide everything; rely mostly on observer */
    }
  </style>
</head>
<body>
  <script src="https://github.com/Cognigy/Webchat/releases/latest/download/webchat.js"></script>
  <script>
    const ENDPOINT =
      "https://endpoint-trial.cognigy.ai/fa17d61a203862b03445bd139a8c2b3589dbd5e0325f8d84d917ddebbfef0bdc";

    // Init webchat
    initWebchat(ENDPOINT);

    // ---- Hide the “home/header” bits so chat dominates ----
    const TARGET_TEXTS = [
      "Support Chat",
      "Israel Airways Support",
      "צ׳אט עם נציג/ה",
      "צ׳אט עם נציג",
      "הצ׳אט נטען בתוך החלון"
    ];

    function looksLikeChrome(el){
      if (!el || el.nodeType !== 1) return false;
      const t = (el.innerText || "").trim();
      if (!t) return false;
      return TARGET_TEXTS.some(x => t.includes(x));
    }

    function hideElement(el){
      if (!el || el.nodeType !== 1) return;
      el.style.display = "none";
      el.setAttribute("aria-hidden", "true");
    }

    // Try to hide the smallest sensible container (walk up a bit)
    function hideChromeNear(node){
      let el = node;
      for (let i = 0; i < 6 && el; i++){
        if (looksLikeChrome(el)) {
          // If it’s a small label, hide its parent container
          const parent = el.closest("header, [role='banner'], [class*='header' i], [class*='top' i], [class*='home' i]") || el;
          hideElement(parent);
          return;
        }
        el = el.parentElement;
      }
    }

    // Observe DOM changes (webchat renders async)
    const obs = new MutationObserver((mutations) => {
      for (const m of mutations){
        for (const n of m.addedNodes){
          if (n.nodeType !== 1) continue;
          hideChromeNear(n);
          // Also scan children quickly
          const walker = document.createTreeWalker(n, NodeFilter.SHOW_ELEMENT);
          let cur = walker.currentNode;
          while (cur){
            hideChromeNear(cur);
            cur = walker.nextNode();
          }
        }
      }
    });

    obs.observe(document.documentElement, { childList:true, subtree:true });

    // Initial pass after short delay
    setTimeout(() => {
      // Look for any elements containing those texts and hide their containers
      const all = Array.from(document.querySelectorAll("body *"));
      for (const el of all) {
        if (looksLikeChrome(el)) hideChromeNear(el);
      }
    }, 600);
  </script>
</body>
</html>
